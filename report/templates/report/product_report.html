{% extends 'base2.html' %}
{% load static %}
{% load i18n %}
{% load report %}
{% block content %}


    <div class="page-header">
        <div class="row">
            <div class="col">
                <h3 class="page-title">Product Report</h3>
                <ul class="breadcrumb">
                    <li class="breadcrumb-item"><a href="{% url 'index' %}">Dashboard</a></li>
                    <li class="breadcrumb-item active">Product Report</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="row">

        <div class="col-lg-12">
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title mb-0">Product Report</h4>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead class="text-left">
                            <tr style="border:5px; border-style: hidden;border-bottom: 0.1rem solid #212529 !important;"
                                class="">

                                <th>Type</th>
                                <th class="text-right">Total</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="text-left">
                                <td>Products From Stock</td>
                                <td class="text-right">{{ product_from_stock.total_price__sum }} SAR</td>
                            </tr>


                            <tr class="text-left">
                                <td>New Products</td>
                                <td class="text-right">{{ purchased_products.price__sum|add:transferred_to_products.price__sum}}
                                    SAR
                                </td>

                            </tr>

                            <tr class="text-center">
                                <td>Purchased</td>
                                <td class="text-center">{{ purchased_products.price__sum }} SAR</td>

                            </tr>

                            <tr class="text-center">
                                <td>Transferred</td>
                                <td class="text-center">{{ transferred_to_products.price__sum }} SAR</td>

                            </tr>


                            <tr class="text-left">
                                <td class="text-left"><h4>Total</h4></td>
                                <td class="text-right">{{ product_from_stock.total_price__sum|add:purchased_products.price__sum|add:transferred_to_products.price__sum }}
                                    SAR
                                </td>

                            </tr>


                            <tr class="text-left">
                                <td><h5>Current Products</h5></td>
                                <td class="text-right">{{ product_from_stock.total_price__sum|add:purchased_products.price__sum|minus:transferred_from_products.total_price__sum|add:transferred_to_products.price__sum|minus:buy_total.total_price__sum|add:return_buy_total.total_price__sum }}
                                    SAR
                                </td>

                            </tr>


                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>





    <div class="row">

        <div class="col-lg-12">
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title mb-0">Sale Report</h4>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead>
                            <tr style="border:5px; border-style: hidden;border-bottom: 0.1rem solid #212529 !important;"
                                class="text-left">

                                <th>Type</th>
                                <th class="text-right">Total</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="text-left">
                                <td>Sold Products</td>
                                <td class="text-right">{{ buy_total.total_price__sum}} SAR</td>
                            </tr>


                            <tr class="text-left">
                                <td>Sales</td>
                                <td class="text-right">{{ sell_total.price__sum }} SAR</td>
                            </tr>


                            <tr class="text-left">
                                <td class="text-center"><h4>Profit</h4></td>
                                <td class="text-right">{{ sell_total.price__sum|minus:buy_total.total_price__sum}}
                                    SAR
                                </td>

                            </tr>


                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <div class="row">

        <div class="col-lg-12">
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title mb-0">Expenses Report</h4>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead>
                            <tr style="border:5px; border-style: hidden;border-bottom: 0.1rem solid #212529 !important;"
                                class="text-left">

                                <th>Type</th>
                                <th>Total</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="text-left">
                                <td>Expenses</td>
                                <td class="text-right">{{ out_total.amount__sum }} SAR</td>
                            </tr>


                            <tr class="text-left">
                                <td>Return Product</td>
                                <td class="text-right">{{ return_total.price__sum }} SAR</td>

                            </tr>
                            <tr class="text-left">
                                <td>Liability</td>
                                <td>SAR</td>

                            </tr>


                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <div class="row">

        <div class="col-lg-12">
            <div class="card">

                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <tr style="border:5px; border-style: hidden;border-bottom: 0.1rem solid #212529 !important;"
                                class="text-left">

                                <th>Net Profit</th>
                                <th>SAR</th>
                            </tr>

                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>


{% endblock %}